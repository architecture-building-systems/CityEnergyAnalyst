{ This .cal file was generated automatically by GenCumulativeSky }
{ GenCumulativeSky +s1 -a 1.37 -o -103.98 -m -120 -p -E -time 0 24 -date 1 1 12 31 F:\kianwee_work\spyder_workspace\pyliburo\examples\punggol_case_study\weatherfile\SGP_Singapore.486980_IWEC.epw  }

skybright=row0+row1+row2+row3+row4+row5+row6+row7;

row0=if(and(alt-0, 12-alt),select(floor(0.5+az/12.00)+1,
	233.238596,
	235.472464,
	242.101789,
	253.473032,
	269.637380,
	288.863549,
	307.295285,
	315.742583,
	325.310246,
	312.975773,
	291.471462,
	272.837260,
	256.949064,
	245.691797,
	239.113117,
	236.902203,
	238.867023,
	245.033837,
	255.539366,
	270.195921,
	287.198385,
	332.530782,
	329.027455,
	317.696016,
	324.525218,
	285.484781,
	267.476790,
	252.252494,
	241.478552,
	235.216137,
	233.238596),0);

row1=if(and(alt-12, 24-alt),select(floor(0.5+az/12.00)+1,
	245.869873,
	248.921255,
	257.926402,
	273.706933,
	297.197438,
	381.193759,
	609.127665,
	499.918353,
	479.882051,
	488.013402,
	418.799073,
	302.447430,
	279.217239,
	263.500957,
	254.530088,
	251.521311,
	254.106972,
	262.396762,
	276.876833,
	298.006570,
	427.978286,
	447.739420,
	403.148325,
	489.890995,
	557.063855,
	412.118008,
	293.533166,
	271.586862,
	256.788970,
	248.429319,
	245.869873),0);

row2=if(and(alt-24, 36-alt),select(floor(0.5+az/15.00)+1,
	260.209497,
	265.988592,
	283.376429,
	314.549789,
	653.091590,
	500.720653,
	553.092726,
	629.817345,
	564.489165,
	322.542365,
	291.530498,
	274.163008,
	268.464639,
	273.428424,
	289.447302,
	317.740873,
	541.553955,
	528.528263,
	502.477979,
	426.583161,
	504.244829,
	310.508723,
	281.266636,
	265.091635,
	260.209497),0);

row3=if(and(alt-36, 48-alt),select(floor(0.5+az/15.00)+1,
	285.857937,
	292.483204,
	311.857050,
	345.353454,
	708.466187,
	632.628497,
	529.676008,
	650.486779,
	730.045903,
	355.787687,
	322.758907,
	303.525095,
	297.062148,
	302.547168,
	320.164609,
	350.208296,
	670.243425,
	550.623220,
	675.665294,
	607.056361,
	529.859901,
	340.404075,
	309.067367,
	291.223755,
	285.857937),0);

row4=if(and(alt-48, 60-alt),select(floor(0.5+az/20.00)+1,
	331.047184,
	342.832276,
	677.486406,
	661.792184,
	742.567965,
	701.611913,
	739.442048,
	601.313050,
	355.900819,
	344.797845,
	354.194718,
	621.236073,
	672.125591,
	670.045678,
	833.349020,
	948.972507,
	597.414021,
	340.488185,
	331.047184),0);

row5=if(and(alt-60, 72-alt),select(floor(0.5+az/30.00)+1,
	582.818899,
	1080.716052,
	906.270644,
	824.516933,
	666.603722,
	826.025110,
	784.088826,
	690.360331,
	755.808507,
	802.254699,
	938.965076,
	810.939340,
	582.818899),0);

row6=if(and(alt-72, 84-alt),select(floor(0.5+az/60.00)+1,
	618.854219,
	917.104479,
	738.905124,
	756.832129,
	621.502121,
	723.520101,
	618.854219),0);

row7=if(alt-84,624.851860,0);

alt=asin(Dz)*180/PI;

az=if(azi,azi,azi+360);
azi=atan2(Dx,Dy)*180/PI;

