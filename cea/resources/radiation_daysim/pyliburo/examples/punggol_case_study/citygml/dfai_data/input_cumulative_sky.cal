{ This .cal file was generated automatically by GenCumulativeSky }
{ GenCumulativeSky +s1 -a 1.37 -o -103.98 -m -120 -E -time 0 24 -date 1 1 12 31 F:\kianwee_work\spyder_workspace\pyliburo\examples\punggol_case_study\weatherfile\SGP_Singapore.486980_IWEC.epw  }

skybright=row0+row1+row2+row3+row4+row5+row6+row7;

row0=if(and(alt-0, 12-alt),select(floor(0.5+az/12.00)+1,
	233238.596032,
	235472.464141,
	242101.788773,
	253473.032438,
	269637.379854,
	288863.548613,
	307295.284554,
	315742.582920,
	325310.245994,
	312975.772929,
	291471.461989,
	272837.259582,
	256949.063889,
	245691.797175,
	239113.116970,
	236902.203413,
	238867.023311,
	245033.836794,
	255539.365660,
	270195.921138,
	287198.385484,
	332530.781950,
	329027.454988,
	317696.016434,
	324525.217590,
	285484.781117,
	267476.790366,
	252252.494042,
	241478.551582,
	235216.137279,
	233238.596032),0);

row1=if(and(alt-12, 24-alt),select(floor(0.5+az/12.00)+1,
	245869.872695,
	248921.254757,
	257926.402254,
	273706.933370,
	297197.438383,
	381193.759253,
	609127.665127,
	499918.352566,
	479882.051116,
	488013.402218,
	418799.072957,
	302447.429568,
	279217.239347,
	263500.957174,
	254530.088392,
	251521.311343,
	254106.971526,
	262396.761710,
	276876.833225,
	298006.569571,
	427978.286459,
	447739.420276,
	403148.324937,
	489890.995173,
	557063.854958,
	412118.007950,
	293533.165644,
	271586.862203,
	256788.969629,
	248429.318754,
	245869.872695),0);

row2=if(and(alt-24, 36-alt),select(floor(0.5+az/15.00)+1,
	260209.497154,
	265988.592295,
	283376.428760,
	314549.788885,
	653091.589820,
	500720.653010,
	553092.725598,
	629817.345232,
	564489.165413,
	322542.365012,
	291530.497721,
	274163.007780,
	268464.638540,
	273428.424467,
	289447.301954,
	317740.872758,
	541553.954913,
	528528.263332,
	502477.978802,
	426583.161306,
	504244.828522,
	310508.723464,
	281266.636431,
	265091.634582,
	260209.497154),0);

row3=if(and(alt-36, 48-alt),select(floor(0.5+az/15.00)+1,
	285857.936766,
	292483.203866,
	311857.049706,
	345353.453605,
	708466.186670,
	632628.497218,
	529676.008335,
	650486.778968,
	730045.902623,
	355787.686516,
	322758.906682,
	303525.095352,
	297062.147961,
	302547.168016,
	320164.609401,
	350208.296301,
	670243.424640,
	550623.220482,
	675665.294416,
	607056.360648,
	529859.900714,
	340404.074623,
	309067.367356,
	291223.755014,
	285857.936766),0);

row4=if(and(alt-48, 60-alt),select(floor(0.5+az/20.00)+1,
	331047.183790,
	342832.276051,
	677486.406436,
	661792.183559,
	742567.964796,
	701611.913422,
	739442.048385,
	601313.049868,
	355900.818988,
	344797.844811,
	354194.718423,
	621236.073226,
	672125.591064,
	670045.678374,
	833349.019824,
	948972.507239,
	597414.020868,
	340488.185129,
	331047.183790),0);

row5=if(and(alt-60, 72-alt),select(floor(0.5+az/30.00)+1,
	582818.898910,
	1080716.051626,
	906270.644233,
	824516.933382,
	666603.721955,
	826025.110056,
	784088.825834,
	690360.331098,
	755808.507346,
	802254.698589,
	938965.076084,
	810939.339702,
	582818.898910),0);

row6=if(and(alt-72, 84-alt),select(floor(0.5+az/60.00)+1,
	618854.218715,
	917104.478648,
	738905.123701,
	756832.128563,
	621502.121424,
	723520.100520,
	618854.218715),0);

row7=if(alt-84,624851.859732,0);

alt=asin(Dz)*180/PI;

az=if(azi,azi,azi+360);
azi=atan2(Dx,Dy)*180/PI;

